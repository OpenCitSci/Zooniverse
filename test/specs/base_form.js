// Generated by CoffeeScript 1.3.3
(function() {
  var SignInForm;

  SignInForm = require('./controllers/base_form');

  describe('SignInForm', function() {
    beforeEach(function() {
      return this.signInForm = new SignInForm;
    });
    describe('#onSubmit', function() {
      beforeEach(function() {
        return this.signInForm.onSubmit();
      });
      it('should show a progress indicator', function() {
        var progress;
        progress = this.signInForm.progress.css('display');
        return expect(progress).not.toBe('none');
      });
      it('forgets any previous errors', function() {
        var errors;
        errors = this.signInForm.errors.text();
        return expect(errors).toBe("");
      });
      return it('submits a username and password to the authentication iframe', function() {
        return spyOn(User, 'login');
      });
    });
    describe('#onErrror', function() {
      beforeEach(function() {
        return this.signInForm.onError("Test Error");
      });
      it('shows an error', function() {
        var errors;
        console.log(this.signInForm.errors);
        errors = this.signInForm.errors.text();
        return expect(errors).toBe("Test Error");
      });
      return it('hides the progress indicator', function() {
        var progress;
        progress = this.signInForm.progress.css('display');
        return expect(progress).toBe('none');
      });
    });
    describe('#onSignIn', function() {
      beforeEach(function() {
        return this.signInForm.onSignIn();
      });
      return it('should hide the progress', function() {
        var progress;
        progress = this.signInForm.progress.css('display');
        return expect(progress).not.toBe('none');
      });
    });
    describe('when given a bad username/password combo', function() {
      it('gets an "error" class', function() {});
      it('loses its "waiting" class', function() {});
      return it('displays the error', function() {});
    });
    return describe('on successful login', function() {
      it('updates the logged in username', function() {});
      return it('clears the login form', function() {});
    });
  });

}).call(this);
